<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>세계 축제 여행 가이드 - Festival Travel Guide</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://images.unsplash.com" crossorigin>
    <link rel="preconnect" href="https://api.unsplash.com" crossorigin>
    <!-- Pretendard 폰트 (한글) + Inter 폰트 (영문) -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/variable/pretendardvariable.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="header-section">
        <div class="container">
            <nav class="navbar navbar-expand-lg">
                <div class="container-fluid">
                    <a class="navbar-brand" href="#">
                        <i class="fas fa-globe-americas"></i> Festival Travel Guide
                    </a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="메뉴 열기">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarNav">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item"><a class="nav-link" href="#festivals">축제</a></li>
                            <li class="nav-item"><a class="nav-link" href="business-analysis.html">사업 분석</a></li>
                            
                            <li class="nav-item"><a class="nav-link" href="#faq">FAQ</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- 히어로 섹션 -->
    <section class="hero-section">
        <div class="hero-overlay"></div>
        <div class="container hero-content">
            <h1 class="hero-title">빛나는 축제의 순간과 여행</h1>
            <p class="hero-subtitle">설렘으로 피어나다.</p>
            <a href="#festivals" class="btn btn-hero" aria-label="대표 축제 섹션으로 이동">축제 둘러보기</a>
        </div>
    </section>

    <!-- 관광 동기 퀴즈 섹션 -->
    <section class="quiz-section">
        <div class="container">
            <div class="section-header text-center">
                <h2><i class="fas fa-compass"></i> 나에게 딱 맞는 축제는?</h2>
                <p>관광 동기 이론(Push & Pull Factors)에 기반한 추천 시스템</p>
            </div>
            <div class="quiz-container" id="quizContainer">
                <div class="quiz-intro" id="quizIntro">
                    <h3 class="mb-2">나에게 딱 맞는 축제 찾기</h3>
                    <p class="text-muted mb-3">간단한 4문항으로 추천해 드려요.</p>
                    <button class="btn btn-primary btn-lg" onclick="startQuiz()">
                        <i class="fas fa-play-circle"></i> 퀴즈 시작하기
                    </button>
                </div>
                <div class="quiz-questions" id="quizQuestions" style="display: none;">
                    <div class="progress mb-4">
                        <div class="progress-bar" id="quizProgress" style="width: 0%"></div>
                    </div>
                    <div class="question-card" id="questionCard">
                        <!-- 동적으로 생성됨 -->
                    </div>
                    <div class="quiz-nav mt-4">
                        <button class="btn btn-secondary" id="prevBtn" onclick="prevQuestion()" style="display: none;">
                            <i class="fas fa-chevron-left"></i> 이전
                        </button>
                        <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()">
                            다음 <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
                <div class="quiz-result" id="quizResult" style="display: none;">
                    <!-- 결과가 동적으로 표시됨 -->
                </div>
            </div>
        </div>
    </section>

    <!-- 축제 카드 섹션 -->
    <section id="festivals" class="festivals-section">
        <div class="container">
            <div class="section-header text-center">
                <h2>대표 축제</h2>
                <p>세계에서 가장 인기 있는 축제를 경험하세요</p>
            </div>
            <div class="row" id="festivalCards">
                <!-- 동적으로 생성됨 -->
            </div>
        </div>
    </section>

    <!-- FAQ 섹션 -->
    <section id="faq" class="faq-section">
        <div class="container">
            <div class="section-header text-center">
                <h2>자주 묻는 질문</h2>
                <p>축제 여행에 대해 궁금한 점을 해결하세요</p>
            </div>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                            축제 예약은 언제 해야 하나요?
                        </button>
                    </h2>
                    <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            인기 축제의 경우 최소 3-6개월 전에 항공권과 숙박을 예약하는 것이 좋습니다. 특히 옥토버페스트나 리우 카니발의 경우 숙박비가 평소의 3-5배까지 급등하므로 조기 예약이 필수입니다. 라 토마티나는 상대적으로 여유가 있지만 8월 성수기이므로 2-3개월 전 예약을 권장합니다.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                            비자가 필요한가요?
                        </button>
                    </h2>
                    <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            스페인과 독일은 쉥겐 협정국으로 한국 국민은 90일 무비자 체류가 가능합니다. 브라질은 2024년부터 한국 국민에 대해 90일 무비자 입국이 가능합니다. 여권 유효기간은 입국일 기준 6개월 이상 남아있어야 하며, 출국 항공권을 소지해야 합니다.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                            혼자 여행해도 안전한가요?
                        </button>
                    </h2>
                    <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            대부분의 축제는 관광객이 많아 비교적 안전하지만, 인파가 몰리는 곳에서는 소매치기에 특히 주의해야 합니다. 귀중품은 호텔 금고에 보관하고, 축제 현장에서는 최소한의 현금과 카드 1장만 지참하세요. 야간 이동 시에는 대중교통보다는 우버나 택시를 이용하는 것이 안전합니다.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                            현지 언어를 못해도 되나요?
                        </button>
                    </h2>
                    <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            주요 관광지와 축제 현장에서는 영어가 통하는 편입니다. 하지만 기본적인 현지어 인사말(안녕하세요, 감사합니다, 죄송합니다)과 구글 번역기 앱의 카메라 번역 기능을 준비하면 더욱 편리합니다. 특히 메뉴판 번역이나 교통표지판 이해에 매우 유용합니다.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 푸터 -->
    <footer class="footer-section">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h4>Festival Travel Guide</h4>
                    <p>세계의 축제와 함께하는 완벽한 여행을 위한 가이드</p>
                </div>
                <div class="col-md-4">
                    <h4>바로가기</h4>
                    <ul class="footer-links">
                        <li><a href="#festivals">축제 목록</a></li>
                        <li><a href="business-analysis.html">사업 분석</a></li>
                        <li><a href="#faq">자주 묻는 질문</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h4>문의</h4>
                    <p><i class="fas fa-envelope"></i> info@festivaltravelguide.com</p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook" aria-hidden="true"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
                        <a href="#" aria-label="Twitter"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Festival Travel Guide. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- 축제 상세 정보 모달 -->
    <div class="modal fade" id="festivalModal" tabindex="-1" aria-labelledby="festivalModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="d-flex align-items-center gap-2">
                        <h5 class="modal-title" id="festivalModalLabel"></h5>
                        <span id="dDayBadge" class="badge rounded-pill d-none"></span>
                    </div>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <!-- 탭 네비게이션 -->
                    <ul class="nav nav-tabs detail-tabs" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" data-bs-toggle="tab" href="#overview" role="tab">개요</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#package" role="tab">패키지 정보</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#product" role="tab">상품 구성</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#attractions" role="tab">주요 관광지</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#budget" role="tab">경비</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#breakeven" role="tab">손익분기점</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#tips" role="tab">여행 팁</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#nearby" role="tab">📍 주변 관광지</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#food" role="tab">🍽️ 현지 음식</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" data-bs-toggle="tab" href="#emergency" role="tab">🚨 긴급 정보</a>
                        </li>
                    </ul>

                    <!-- 탭 컨텐츠 -->
                    <div class="tab-content detail-tab-content">
                        <!-- 개요 탭 -->
                        <div class="tab-pane fade show active" id="overview" role="tabpanel">
                            <!-- 축제 대표 이미지 -->
                            <div class="festival-hero-image" id="festivalHeroImage"></div>
                            
                            <div class="row mt-4">
                                <div class="col-lg-8">
                                    <div class="info-card">
                                        <div class="festival-header-info">
                                            <div class="festival-title-section">
                                                <h2 id="detailFestivalName" class="festival-main-title"></h2>
                                                <p id="detailLocation" class="festival-location-text">
                                                    <i class="fas fa-map-marker-alt"></i>
                                                    <span></span>
                                                </p>
                                            </div>
                                            <div class="festival-price-badge" id="detailPriceBadge"></div>
                                        </div>
                                    </div>

                                    <div class="info-card mt-3">
                                        <h3><i class="fas fa-info-circle text-primary"></i> 축제 소개</h3>
                                        <div class="festival-description-full" id="detailDescriptionFull"></div>
                                    </div>

                                    <div class="info-card mt-3">
                                        <h3><i class="fas fa-calendar-check text-success"></i> 기본 정보</h3>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="info-item">
                                                    <i class="fas fa-calendar-alt"></i>
                                                    <div>
                                                        <strong>개최 기간</strong>
                                                        <p id="detailPeriod"></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="info-item">
                                                    <i class="fas fa-clock"></i>
                                                    <div>
                                                        <strong>여행 일수</strong>
                                                        <p id="detailDuration"></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="info-item">
                                                    <i class="fas fa-users"></i>
                                                    <div>
                                                        <strong>추천 대상</strong>
                                                        <p id="detailTarget"></p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="info-item">
                                                    <i class="fas fa-tag"></i>
                                                    <div>
                                                        <strong>예상 비용</strong>
                                                        <p id="detailPrice"></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- 축제 하이라이트 -->
                                    <div class="info-card mt-3">
                                        <h3><i class="fas fa-star text-warning"></i> 축제 하이라이트</h3>
                                        <div id="festivalHighlights" class="highlights-grid"></div>
                                    </div>
                                </div>
                                
                                <div class="col-lg-4">
                                    <div class="map-card sticky-map">
                                        <h3><i class="fas fa-map-marked-alt"></i> 위치</h3>
                                        <div id="detailMap" class="map-container"></div>
                                        <button class="btn btn-sm btn-outline-primary mt-2 w-100" id="openMapBtn">
                                            <i class="fas fa-external-link-alt"></i> 지도 크게 보기
                                        </button>
                                        <button class="btn btn-sm btn-outline-secondary mt-2 w-100" id="openDirectionsBtn">
                                            <i class="fas fa-route"></i> 길찾기(구글 지도)
                                        </button>
                                    </div>

                                    <!-- 빠른 정보 카드 -->
                                    <div class="info-card mt-3">
                                        <h3><i class="fas fa-bolt text-warning"></i> 빠른 정보</h3>
                                        <div id="quickInfo" class="quick-info-list"></div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 패키지 정보 탭 -->
                        <div class="tab-pane fade" id="package" role="tabpanel">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="info-card">
                                        <h3><i class="fas fa-check-circle text-success"></i> 포함 사항</h3>
                                        <ul id="packageIncluded" class="package-list"></ul>
                                    </div>
                                    <div class="info-card mt-3">
                                        <h3><i class="fas fa-calendar-alt text-info"></i> 출발 일정</h3>
                                        <ul id="packageDates" class="package-list"></ul>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="info-card">
                                        <h3><i class="fas fa-times-circle text-danger"></i> 불포함 사항</h3>
                                        <ul id="packageExcluded" class="package-list"></ul>
                                    </div>
                                    <div class="info-card mt-3">
                                        <h3><i class="fas fa-users text-warning"></i> 단체 할인</h3>
                                        <div id="packageDiscount"></div>
                                        <p class="mt-3"><strong>상품코드:</strong> <span id="packageCode" class="badge bg-primary"></span></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 상품 구성 탭 -->
                        <div class="tab-pane fade" id="product" role="tabpanel">
                            <div class="row">
                                <div class="col-lg-7">
                                    <div class="info-card">
                                        <h3>패키지 티어</h3>
                                        <div id="productTiers" class="tiers-grid"></div>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="info-card">
                                        <h3>수요·수익 시뮬레이터</h3>
                                        <div id="demandSimulator">
                                            <div class="row g-2">
                                                <div class="col-6">
                                                    <label class="form-label">판매가(1인)</label>
                                                    <input type="number" class="form-control" id="sim-price" min="0" step="1000" />
                                                </div>
                                                <div class="col-6">
                                                    <label class="form-label">모객 수(명)</label>
                                                    <input type="number" class="form-control" id="sim-customers" value="50" min="0" step="1" />
                                                </div>
                                                <div class="col-6">
                                                    <label class="form-label">고정비(원)</label>
                                                    <input type="number" class="form-control" id="sim-fixed" min="0" step="1000" />
                                                </div>
                                                <div class="col-6">
                                                    <label class="form-label">1인 변동비(원)</label>
                                                    <input type="number" class="form-control" id="sim-variable" min="0" step="1000" />
                                                </div>
                                            </div>
                                            <button class="btn btn-sm btn-primary mt-3" id="sim-run"><i class="fas fa-calculator"></i> 계산</button>
                                            <div class="sim-result mt-3" id="sim-result"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-lg-7">
                                    <div class="info-card">
                                        <h3>티어별 가치제안</h3>
                                        <div id="tierValueProps" class="value-prop-list"></div>
                                    </div>
                                </div>
                                <div class="col-lg-5">
                                    <div class="info-card">
                                        <h3>
                                            업셀링 / 옵션
                                            <span id="upsellCountBadge" class="badge" style="display: none;">0</span>
                                        </h3>
                                        <div id="upsellOptions">
                                            <div class="options-list" id="upsellList"></div>
                                            <div class="d-flex justify-content-between align-items-center mt-3 pt-3 border-top">
                                                <div>
                                                    <small class="text-muted d-block">선택 옵션 합계</small>
                                                    <strong id="upsellSum" style="font-size: 1.2rem; color: #667eea;">₩0</strong>
                                                </div>
                                                <div class="d-flex gap-2 flex-wrap">
                                                    <button class="btn btn-sm btn-primary" id="applyUpsellToSim">
                                                        <i class="fas fa-calculator"></i> 시뮬레이터에 적용
                                                    </button>
                                                    <button class="btn btn-sm btn-outline-primary" id="applyUpsellToPlanner">
                                                        <i class="fas fa-suitcase-rolling"></i> 기획에 적용
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 관광지 탭 -->
                        <div class="tab-pane fade" id="attractions" role="tabpanel">
                            <div class="row" id="attractionsList"></div>
                        </div>

                        <!-- 경비 탭 -->
                        <div class="tab-pane fade" id="budget" role="tabpanel">
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="info-card">
                                        <h3>경비 분석</h3>
                                        <div class="chart-container">
                                            <canvas id="budgetChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="info-card">
                                        <h3>총 예상 경비</h3>
                                        <div class="total-budget">
                                            <h2 id="totalBudget"></h2>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 손익분기점 탭 -->
                        <div class="tab-pane fade" id="breakeven" role="tabpanel">
                            <div id="breakEvenAnalysis"></div>
                        </div>

                        <!-- 여행 팁 탭 -->
                        <div class="tab-pane fade" id="tips" role="tabpanel">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="info-card">
                                        <h3><i class="fas fa-suitcase"></i> 준비물</h3>
                                        <ul id="tipItems"></ul>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="info-card">
                                        <h3><i class="fas fa-exclamation-triangle"></i> 주의사항</h3>
                                        <ul id="tipWarnings"></ul>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="info-card">
                                        <h3><i class="fas fa-thumbs-up"></i> 추천</h3>
                                        <ul id="tipRecommendations"></ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- 주변 관광지 탭 -->
                        <div class="tab-pane fade" id="nearby" role="tabpanel">
                            <h3>📍 주변 관광지</h3>
                            <div id="nearbyAttractionsList" class="attractions-grid"></div>
                        </div>

                        <!-- 현지 음식 탭 -->
                        <div class="tab-pane fade" id="food" role="tabpanel">
                            <h3>🍽️ 현지 음식 가이드</h3>
                            
                            <h4 class="mt-4 mb-3">꼭 먹어봐야 할 음식</h4>
                            <div id="mustTryFoodList" class="food-grid"></div>
                            
                            <h4 class="mt-5 mb-3">추천 레스토랑</h4>
                            <div id="restaurantsList" class="restaurant-grid"></div>
                        </div>

                        <!-- 긴급 정보 탭 -->
                        <div class="tab-pane fade" id="emergency" role="tabpanel">
                            <h3>🚨 긴급 정보</h3>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="info-card emergency-card">
                                        <h4>🇰🇷 대사관 정보</h4>
                                        <div id="embassyInfo"></div>
                                    </div>
                                    
                                    <div class="info-card emergency-card mt-3">
                                        <h4>📞 긴급 연락처</h4>
                                        <div id="emergencyContacts"></div>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="info-card">
                                        <h4>🗣️ 기본 회화</h4>
                                        <div id="basicPhrasesList"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- 환경변수 및 설정 -->
    <script src="env.js"></script>
    <script src="config/constants.js?v=4"></script>
    
    <!-- 유틸리티 -->
    <script src="utils/logger.js?v=4"></script>
    <script src="utils/helpers.js?v=4"></script>
    
    <!-- 서비스 -->
    <script src="services/apiService.js?v=4"></script>
    
    <!-- 데이터 소스/설정 -->
    <script src="api-config.js?v=4"></script>
    <script src="tourapi-adapter.js?v=4"></script>
    
    <!-- 메인 스크립트 -->
    <script src="script.js?v=4"></script>
    <script src="api-integration.js?v=4"></script>
    <script src="tourism-data.js?v=4"></script>
    <script src="tourism-display.js?v=4"></script>
</body>
</html>
