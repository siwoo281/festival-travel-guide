<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { color: #28a745; }
        .error { color: #dc3545; }
        .info { color: #17a2b8; }
    </style>
</head>
<body>
    <h1>ğŸ§ª API í†µí•© í…ŒìŠ¤íŠ¸</h1>
    
    <div class="test-box">
        <h3>1ï¸âƒ£ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸</h3>
        <div id="script-test"></div>
    </div>
    
    <div class="test-box">
        <h3>2ï¸âƒ£ festivalsData í™•ì¸</h3>
        <div id="data-test"></div>
    </div>
    
    <div class="test-box">
        <h3>3ï¸âƒ£ í™˜ìœ¨ API í…ŒìŠ¤íŠ¸</h3>
        <div id="rate-test"></div>
    </div>
    
    <div class="test-box">
        <h3>4ï¸âƒ£ êµ­ê¸° ì´ë¯¸ì§€ í…ŒìŠ¤íŠ¸</h3>
        <div id="flag-test"></div>
    </div>
    
    <script src="script.js"></script>
    <script src="api-integration.js"></script>
    <script>
        // 1. ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ í™•ì¸
        const scriptTest = document.getElementById('script-test');
        if (typeof festivalsData !== 'undefined') {
            scriptTest.innerHTML = '<span class="success">âœ… script.js ë¡œë“œ ì„±ê³µ</span>';
        } else {
            scriptTest.innerHTML = '<span class="error">âŒ script.js ë¡œë“œ ì‹¤íŒ¨</span>';
        }
        
        if (typeof festivalLocationInfo !== 'undefined') {
            scriptTest.innerHTML += '<br><span class="success">âœ… api-integration.js ë¡œë“œ ì„±ê³µ</span>';
        } else {
            scriptTest.innerHTML += '<br><span class="error">âŒ api-integration.js ë¡œë“œ ì‹¤íŒ¨</span>';
        }
        
        // 2. festivalsData í™•ì¸
        const dataTest = document.getElementById('data-test');
        if (typeof festivalsData !== 'undefined') {
            const festivals = Object.keys(festivalsData);
            dataTest.innerHTML = `
                <span class="success">âœ… ì¶•ì œ ë°ì´í„°: ${festivals.length}ê°œ</span><br>
                <span class="info">ğŸ“‹ ${festivals.join(', ')}</span>
            `;
        } else {
            dataTest.innerHTML = '<span class="error">âŒ festivalsData ì—†ìŒ</span>';
        }
        
        // 3. í™˜ìœ¨ API í…ŒìŠ¤íŠ¸
        const rateTest = document.getElementById('rate-test');
        rateTest.innerHTML = '<span class="info">â³ í…ŒìŠ¤íŠ¸ ì¤‘...</span>';
        
        getExchangeRates().then(rates => {
            if (rates) {
                rateTest.innerHTML = `
                    <span class="success">âœ… í™˜ìœ¨ API ì„±ê³µ</span><br>
                    <span class="info">EUR: ${rates.EUR ? rates.EUR.toFixed(6) : 'N/A'}</span><br>
                    <span class="info">BRL: ${rates.BRL ? rates.BRL.toFixed(6) : 'N/A'}</span>
                `;
            } else {
                rateTest.innerHTML = '<span class="error">âŒ í™˜ìœ¨ API ì‹¤íŒ¨</span>';
            }
        });
        
        // 4. êµ­ê¸° ì´ë¯¸ì§€ í…ŒìŠ¤íŠ¸
        const flagTest = document.getElementById('flag-test');
        const flags = [
            { code: 'es', name: 'ìŠ¤í˜ì¸' },
            { code: 'de', name: 'ë…ì¼' },
            { code: 'br', name: 'ë¸Œë¼ì§ˆ' }
        ];
        
        flagTest.innerHTML = flags.map(flag => 
            `<img src="https://flagcdn.com/w80/${flag.code}.png" alt="${flag.name}" style="width: 60px; margin: 5px;"> ${flag.name}`
        ).join('<br>');
    </script>
</body>
</html>
